var QRCode=function(h){"use strict";var F,ar=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},aq=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],C=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return 4*a+17},A=function(a){return aq[a]},k=function(a){for(var b=0;0!==a;)b++,a>>>=1;return b},ap=function(a){if("function"!=typeof a)throw new Error('"toSJISFunc" is not a valid function.');F=a},P=function(){return void 0!==F},at=function(a){return F(a)},b,ao,an,w,al,ak,c,u,v,aj,H,p,z,ai,K,q,ah,t,r,ae,ad,ab,W,$,_,Z,Y,X,f,a,g,U,V,T,B,N,L,J,ac,l,E,e,s,am,M,Q,R,S,aa;function d(b,a){return b(a={exports:{}},a.exports),a.exports}b=d(function(b,a){a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2},a.isValid=function(a){return a&&void 0!==a.bit&&a.bit>=0&&a.bit<4},a.from=function(b,c){if(a.isValid(b))return b;try{return function(b){if("string"!=typeof b)throw new Error("Param is not a string");switch(b.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+b)}}(b)}catch(a){return c}}});function O(){this.buffer=[],this.length=0}b.L,b.M,b.Q,b.H,b.isValid,O.prototype={get:function(a){var b=Math.floor(a/8);return 1==(this.buffer[b]>>>7-a%8&1)},put:function(c,b){for(var a=0;a<b;a++)this.putBit(1==(c>>>b-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(b){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),b&&(this.buffer[a]|=128>>>this.length%8),this.length++}},ao=O;function o(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}o.prototype.set=function(b,c,d,e){var a=b*this.size+c;this.data[a]=d,e&&(this.reservedBit[a]=!0)},o.prototype.get=function(a,b){return this.data[a*this.size+b]},o.prototype.xor=function(a,b,c){this.data[a*this.size+b]^=c},o.prototype.isReserved=function(a,b){return this.reservedBit[a*this.size+b]},an=o,w=d(function(c,a){var b=C;a.getRowColCoords=function(d){if(1===d)return[];for(var f=Math.floor(d/7)+2,e=b(d),g=145===e?26:2*Math.ceil((e-13)/(2*f-2)),a=[e-7],c=1;c<f-1;c++)a[c]=a[c-1]-g;return a.push(6),a.reverse()},a.getPositions=function(g){for(var f=[],e=a.getRowColCoords(g),d=e.length,b=0,c;b<d;b++)for(c=0;c<d;c++)0===b&&0===c||0===b&&c===d-1||b===d-1&&0===c||f.push([e[b],e[c]]);return f}}),w.getRowColCoords,w.getPositions,al=C,ak=function(b){var a=al(b);return[[0,0],[a-7,0],[0,a-7]]},c=d(function(g,a){a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var b=3,d=3,e=40,f=10;function c(d,b,c){switch(d){case a.Patterns.PATTERN000:return(b+c)%2==0;case a.Patterns.PATTERN001:return b%2==0;case a.Patterns.PATTERN010:return c%3==0;case a.Patterns.PATTERN011:return(b+c)%3==0;case a.Patterns.PATTERN100:return(Math.floor(b/2)+Math.floor(c/3))%2==0;case a.Patterns.PATTERN101:return b*c%2+b*c%3==0;case a.Patterns.PATTERN110:return(b*c%2+b*c%3)%2==0;case a.Patterns.PATTERN111:return(b*c%3+(b+c)%2)%2==0;default:throw new Error("bad maskPattern:"+d)}}a.isValid=function(a){return null!=a&&""!==a&&!isNaN(a)&&a>=0&&a<=7},a.from=function(b){return a.isValid(b)?parseInt(b,10):void 0},a.getPenaltyN1=function(h){for(var k=h.size,d=0,a=0,c=0,i=null,j=null,e=0,f,g;e<k;e++){a=c=0,i=j=null;for(f=0;f<k;f++)g=h.get(e,f),g===i?a++:(a>=5&&(d+=b+(a-5)),i=g,a=1),(g=h.get(f,e))===j?c++:(c>=5&&(d+=b+(c-5)),j=g,c=1);a>=5&&(d+=b+(a-5)),c>=5&&(d+=b+(c-5))}return d},a.getPenaltyN2=function(c){for(var e=c.size,f=0,a=0,b,g;a<e-1;a++)for(b=0;b<e-1;b++)g=c.get(a,b)+c.get(a,b+1)+c.get(a+1,b)+c.get(a+1,b+1),4!==g&&0!==g||f++;return f*d},a.getPenaltyN3=function(g){for(var h=g.size,f=0,b=0,c=0,d=0,a;d<h;d++){b=c=0;for(a=0;a<h;a++)b=b<<1&2047|g.get(d,a),a>=10&&(1488===b||93===b)&&f++,c=c<<1&2047|g.get(a,d),a>=10&&(1488===c||93===c)&&f++}return f*e},a.getPenaltyN4=function(b){for(var c=0,d=b.data.length,a=0;a<d;a++)c+=b.data[a];return Math.abs(Math.ceil(100*c/d/5)-10)*f},a.applyMask=function(f,d){for(var e=d.size,a=0,b;a<e;a++)for(b=0;b<e;b++)d.isReserved(b,a)||d.xor(b,a,c(f,b,a))},a.getBestMask=function(b,g){for(var h=Object.keys(a.Patterns).length,d=0,e=1/0,c=0,f;c<h;c++)g(c),a.applyMask(c,b),f=a.getPenaltyN1(b)+a.getPenaltyN2(b)+a.getPenaltyN3(b)+a.getPenaltyN4(b),a.applyMask(c,b),f<e&&(e=f,d=c);return d}}),c.Patterns,c.isValid,c.getPenaltyN1,c.getPenaltyN2,c.getPenaltyN3,c.getPenaltyN4,c.applyMask,c.getBestMask,u=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],v=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],aj=function(a,c){switch(c){case b.L:return u[4*(a-1)+0];case b.M:return u[4*(a-1)+1];case b.Q:return u[4*(a-1)+2];case b.H:return u[4*(a-1)+3];default:return}},H=function(a,c){switch(c){case b.L:return v[4*(a-1)+0];case b.M:return v[4*(a-1)+1];case b.Q:return v[4*(a-1)+2];case b.H:return v[4*(a-1)+3];default:return}},p=new Uint8Array(512),z=new Uint8Array(256),!function(){for(var a=1,b=0,c;b<255;b++)p[b]=a,z[a]=b,256&(a<<=1)&&(a^=285);for(c=255;c<512;c++)p[c]=p[c-255]}(),ai=function(a){return p[a]},K=function(a,b){return 0===a||0===b?0:p[z[a]+z[b]]},q=d(function(b,a){a.mul=function(c,d){for(var e=new Uint8Array(c.length+d.length-1),a=0,b;a<c.length;a++)for(b=0;b<d.length;b++)e[a+b]^=K(c[a],d[b]);return e},a.mod=function(e,d){for(var a=new Uint8Array(e),f,b,c;a.length-d.length>=0;){for(f=a[0],b=0;b<d.length;b++)a[b]^=K(d[b],f);for(c=0;c<a.length&&0===a[c];)c++;a=a.slice(c)}return a},a.generateECPolynomial=function(d){for(var b=new Uint8Array([1]),c=0;c<d;c++)b=a.mul(b,new Uint8Array([1,ai(c)]));return b}});function D(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}q.mul,q.mod,q.generateECPolynomial,D.prototype.initialize=function(a){this.degree=a,this.genPoly=q.generateECPolynomial(this.degree)},D.prototype.encode=function(e){var b,a,c,d;if(!this.genPoly)throw new Error("Encoder not initialized");return b=new Uint8Array(e.length+this.degree),b.set(e),a=q.mod(b,this.genPoly),c=this.degree-a.length,c>0?(d=new Uint8Array(this.degree),d.set(a,c),d):a},ah=D,t=function(a){return!isNaN(a)&&a>=1&&a<=40},r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",ae="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",ad=new RegExp(r,"g"),ab=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),W=new RegExp(ae,"g"),$=new RegExp("[0-9]+","g"),_=new RegExp("[A-Z $%*+\\-./:]+","g"),Z=new RegExp("^"+r+"$"),Y=new RegExp("^[0-9]+$"),X=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),f={KANJI:ad,BYTE_KANJI:ab,BYTE:W,NUMERIC:$,ALPHANUMERIC:_,testKanji:function(a){return Z.test(a)},testNumeric:function(a){return Y.test(a)},testAlphanumeric:function(a){return X.test(a)}},a=d(function(b,a){a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(a,b){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t(b))throw new Error("Invalid version: "+b);return b>=1&&b<10?a.ccBits[0]:b<27?a.ccBits[1]:a.ccBits[2]},a.getBestModeForData=function(b){return f.testNumeric(b)?a.NUMERIC:f.testAlphanumeric(b)?a.ALPHANUMERIC:f.testKanji(b)?a.KANJI:a.BYTE},a.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},a.isValid=function(a){return a&&a.bit&&a.ccBits},a.from=function(b,c){if(a.isValid(b))return b;try{return function(b){if("string"!=typeof b)throw new Error("Param is not a string");switch(b.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+b)}}(b)}catch(a){return c}}}),a.NUMERIC,a.ALPHANUMERIC,a.BYTE,a.KANJI,a.MIXED,a.getCharCountIndicator,a.getBestModeForData,a.isValid,g=d(function(g,c){var d=k(7973);function e(b,c){return a.getCharCountIndicator(b,c)+4}function f(b,c){var a=0;return b.forEach(function(b){var d=e(b.mode,c);a+=d+b.getBitsLength()}),a}c.from=function(a,b){return t(a)?parseInt(a,10):b},c.getCapacity=function(d,g,b){var f,c;if(!t(d))throw new Error("Invalid QR Code version");if(void 0===b&&(b=a.BYTE),f=8*(A(d)-H(d,g)),b===a.MIXED)return f;switch(c=f-e(b,d),b){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},c.getBestVersionForData=function(d,h){var e,g=b.from(h,b.M);if(Array.isArray(d)){if(d.length>1)return function(d,e){for(var b=1;b<=40;b++)if(f(d,b)<=c.getCapacity(b,e,a.MIXED))return b}(d,g);if(0===d.length)return 1;e=d[0]}else e=d;return function(b,d,e){for(var a=1;a<=40;a++)if(d<=c.getCapacity(a,e,b))return a}(e.mode,e.getLength(),g)},c.getEncodedBits=function(a){if(!t(a)||a<7)throw new Error("Invalid QR Code version");for(var b=a<<12;k(b)-d>=0;)b^=7973<<k(b)-d;return a<<12|b}}),g.getCapacity,g.getBestVersionForData,g.getEncodedBits,U=k(1335),V=function(c,d){for(var b=c.bit<<3|d,a=b<<10;k(a)-U>=0;)a^=1335<<k(a)-U;return 21522^(b<<10|a)};function j(b){this.mode=a.NUMERIC,this.data=b.toString()}j.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},j.prototype.getLength=function(){return this.data.length},j.prototype.getBitsLength=function(){return j.getBitsLength(this.data.length)},j.prototype.write=function(d){var a,b,c,e;for(a=0;a+3<=this.data.length;a+=3)b=this.data.substr(a,3),c=parseInt(b,10),d.put(c,10);e=this.data.length-a,e>0&&(b=this.data.substr(a),c=parseInt(b,10),d.put(c,3*e+1))},T=j,B=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function m(b){this.mode=a.ALPHANUMERIC,this.data=b}m.getBitsLength=function(a){return 11*Math.floor(a/2)+a%2*6},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(b){var a,c;for(a=0;a+2<=this.data.length;a+=2)c=45*B.indexOf(this.data[a]),c+=B.indexOf(this.data[a+1]),b.put(c,11);this.data.length%2&&b.put(B.indexOf(this.data[a]),6)},N=m;function i(b){this.mode=a.BYTE,"string"==typeof b&&(b=function(d){for(var b=[],f=d.length,c=0,a,e;c<f;c++)a=d.charCodeAt(c),a>=55296&&a<=56319&&f>c+1&&(e=d.charCodeAt(c+1),e>=56320&&e<=57343&&(a=1024*(a-55296)+e-56320+65536,c+=1)),a<128?b.push(a):a<2048?(b.push(a>>6|192),b.push(63&a|128)):a<55296||a>=57344&&a<65536?(b.push(a>>12|224),b.push(a>>6&63|128),b.push(63&a|128)):a>=65536&&a<=1114111?(b.push(a>>18|240),b.push(a>>12&63|128),b.push(a>>6&63|128),b.push(63&a|128)):b.push(239,191,189);return new Uint8Array(b).buffer}(b)),this.data=new Uint8Array(b)}i.getBitsLength=function(a){return 8*a},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(b){for(var a=0,c=this.data.length;a<c;a++)b.put(this.data[a],8)},L=i;function n(b){this.mode=a.KANJI,this.data=b}n.getBitsLength=function(a){return 13*a},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(c){var b,a;for(b=0;b<this.data.length;b++){if(a=at(this.data[b]),a>=33088&&a<=40956)a-=33088;else{if(!(a>=57408&&a<=60351))throw new Error("Invalid SJIS character: "+this.data[b]+"\nMake sure your charset is UTF-8");a-=49472}a=192*(a>>>8&255)+(255&a),c.put(a,13)}},J=n,ac=d(function(b){var a={single_source_shortest_paths:function(n,i,f){var l={},c={},j,h,b,k,g,e,m,d,o;c[i]=0,d=a.PriorityQueue.make();for(d.push(i,0);!d.empty();)for(b in h=(j=d.pop()).value,k=j.cost,g=n[h]||{})g.hasOwnProperty(b)&&(e=k+g[b],m=c[b],(void 0===c[b]||m>e)&&(c[b]=e,d.push(b,e),l[b]=h));if(void 0!==f&&void 0===c[f])throw o=["Could not find a path from ",i," to ",f,"."].join(""),new Error(o);return l},extract_shortest_path_from_predecessor_list:function(c,d){for(var b=[],a=d;a;)b.push(a),a=c[a];return b.reverse(),b},find_path:function(c,d,b){var e=a.single_source_shortest_paths(c,d,b);return a.extract_shortest_path_from_predecessor_list(e,b)},PriorityQueue:{make:function(e){var b,c=a.PriorityQueue,d={};for(b in e=e||{},c)c.hasOwnProperty(b)&&(d[b]=c[b]);return d.queue=[],d.sorter=e.sorter||c.default_sorter,d},default_sorter:function(a,b){return a.cost-b.cost},push:function(a,b){var c={value:a,cost:b};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};b.exports=a}),l=d(function(i,b){function g(a){return unescape(encodeURIComponent(a)).length}function c(c,d,e){for(var a,b=[];null!==(a=c.exec(e));)b.push({data:a[0],index:a.index,mode:d,length:a[0].length});return b}function h(b){var d,e,g=c(f.NUMERIC,a.NUMERIC,b),h=c(f.ALPHANUMERIC,a.ALPHANUMERIC,b);return P()?(d=c(f.BYTE,a.BYTE,b),e=c(f.KANJI,a.KANJI,b)):(d=c(f.BYTE_KANJI,a.BYTE,b),e=[]),g.concat(h,d,e).sort(function(a,b){return a.index-b.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function d(b,c){switch(c){case a.NUMERIC:return T.getBitsLength(b);case a.ALPHANUMERIC:return N.getBitsLength(b);case a.KANJI:return J.getBitsLength(b);case a.BYTE:return L.getBitsLength(b)}}function e(b,e){var c,d=a.getBestModeForData(b);if((c=a.from(e,d))!==a.BYTE&&c.bit<d.bit)throw new Error('"'+b+'" cannot be encoded with mode '+a.toString(c)+".\n Suggested mode is: "+a.toString(d));switch(c!==a.KANJI||P()||(c=a.BYTE),c){case a.NUMERIC:return new T(b);case a.ALPHANUMERIC:return new N(b);case a.KANJI:return new J(b);case a.BYTE:return new L(b)}}b.fromArray=function(a){return a.reduce(function(b,a){return"string"==typeof a?b.push(e(a,null)):a.data&&b.push(e(a.data,a.mode)),b},[])},b.fromString=function(j,k){for(var e=function(o,p){for(var e={},h={start:{}},g=["start"],i=0,n,m,j,b,f,k,c,l;i<o.length;i++){for(n=o[i],m=[],j=0;j<n.length;j++){b=n[j],f=""+i+j,m.push(f),e[f]={node:b,lastCount:0},h[f]={};for(k=0;k<g.length;k++)c=g[k],e[c]&&e[c].node.mode===b.mode?(h[c][f]=d(e[c].lastCount+b.length,b.mode)-d(e[c].lastCount,b.mode),e[c].lastCount+=b.length):(e[c]&&(e[c].lastCount=b.length),h[c][f]=d(b.length,b.mode)+4+a.getCharCountIndicator(b.mode,p))}g=m}for(l=0;l<g.length;l++)h[g[l]].end=0;return{map:h,table:e}}(function(e){for(var c=[],d=0,b;d<e.length;d++)switch(b=e[d],b.mode){case a.NUMERIC:c.push([b,{data:b.data,mode:a.ALPHANUMERIC,length:b.length},{data:b.data,mode:a.BYTE,length:b.length}]);break;case a.ALPHANUMERIC:c.push([b,{data:b.data,mode:a.BYTE,length:b.length}]);break;case a.KANJI:c.push([b,{data:b.data,mode:a.BYTE,length:g(b.data)}]);break;case a.BYTE:c.push([{data:b.data,mode:a.BYTE,length:g(b.data)}])}return c}(h(j)),k),f=ac.find_path(e.map,"start","end"),i=[],c=1;c<f.length-1;c++)i.push(e.table[f[c]].node);return b.fromArray(function(a){return a.reduce(function(a,b){var c=a.length-1>=0?a[a.length-1]:null;return c&&c.mode===b.mode?(a[a.length-1].data+=b.data,a):(a.push(b),a)},[])}(i))},b.rawSplit=function(a){return b.fromArray(h(a))}});function G(b,e,f){var a,c,d=b.size,g=V(e,f);for(a=0;a<15;a++)c=1==(g>>a&1),a<6?b.set(a,8,c,!0):a<8?b.set(a+1,8,c,!0):b.set(d-15+a,8,c,!0),a<8?b.set(8,d-a-1,c,!0):a<9?b.set(8,15-a-1+1,c,!0):b.set(8,15-a-1,c,!0);b.set(d-8,8,1,!0)}function af(c,e,g){var b=new ao,f,h,d;g.forEach(function(d){b.put(d.mode.bit,4),b.put(d.getLength(),a.getCharCountIndicator(d.mode,c)),d.write(b)}),f=8*(A(c)-H(c,e));for(b.getLengthInBits()+4<=f&&b.put(0,4);b.getLengthInBits()%8!=0;)b.putBit(0);for(h=(f-b.getLengthInBits())/8,d=0;d<h;d++)b.put(d%2?17:236,8);return function(x,k,o){for(var f=A(k),w=H(k,o),v=f-w,a=aj(k,o),u=a-f%a,t=Math.floor(f/a),j=Math.floor(v/a),s=j+1,n=t-j,q=new ah(n),l=0,e=new Array(a),p=new Array(a),g=0,r=new Uint8Array(x.buffer),d=0,i,b,c,h,m;d<a;d++)i=d<u?j:s,e[d]=r.slice(l,l+i),p[d]=q.encode(e[d]),l+=i,g=Math.max(g,i);h=new Uint8Array(f),m=0;for(b=0;b<g;b++)for(c=0;c<a;c++)b<e[c].length&&(h[m++]=e[c][b]);for(b=0;b<n;b++)for(c=0;c<a;c++)h[m++]=p[c][b];return h}(b,c,e)}function ag(e,a,d,f){var h,j,k,i,m,n,b;if(Array.isArray(e))h=l.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");j=a,j||(k=l.rawSplit(e),j=g.getBestVersionForData(k,d)),h=l.fromString(e,j||40)}if(i=g.getBestVersionForData(h,d),!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(a){if(a<i)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+i+".\n")}else a=i;return m=af(a,d,h),n=C(a),b=new an(n),function(g,i){for(var h=g.size,f=ak(i),d=0,e,c,a,b;d<f.length;d++)for(e=f[d][0],c=f[d][1],a=-1;a<=7;a++)if(!(e+a<=-1||h<=e+a))for(b=-1;b<=7;b++)c+b<=-1||h<=c+b||(a>=0&&a<=6&&(0===b||6===b)||b>=0&&b<=6&&(0===a||6===a)||a>=2&&a<=4&&b>=2&&b<=4?g.set(e+a,c+b,!0,!0):g.set(e+a,c+b,!1,!0))}(b,a),function(b){for(var d=b.size,a=8,c;a<d-8;a++)c=a%2==0,b.set(a,6,c,!0),b.set(6,a,c,!0)}(b),function(g,h){for(var d=w.getPositions(h),c=0,e,f,a,b;c<d.length;c++)for(e=d[c][0],f=d[c][1],a=-2;a<=2;a++)for(b=-2;b<=2;b++)-2===a||2===a||-2===b||2===b||0===a&&0===b?g.set(e+a,f+b,!0,!0):g.set(e+a,f+b,!1,!0)}(b,a),G(b,d,0),a>=7&&function(b,i){for(var c,d,e,f=b.size,h=g.getEncodedBits(i),a=0;a<18;a++)c=Math.floor(a/3),d=a%3+f-8-3,e=1==(h>>a&1),b.set(c,d,e,!0),b.set(d,c,e,!0)}(b,a),function(e,i){for(var h=e.size,d=-1,b=h-1,f=7,g=0,a=h-1,c,j;a>0;a-=2)for(6===a&&a--;;){for(c=0;c<2;c++)e.isReserved(b,a-c)||(j=!1,g<i.length&&(j=1==(i[g]>>>f&1)),e.set(b,a-c,j),-1===--f&&(g++,f=7));if((b+=d)<0||h<=b){b-=d,d=-d;break}}}(b,m),isNaN(f)&&(f=c.getBestMask(b,G.bind(null,b,d))),c.applyMask(f,b),G(b,d,f),{modules:b,version:a,errorCorrectionLevel:d,maskPattern:f,segments:h}}l.fromArray,l.fromString,l.rawSplit,E=function(d,a){if(void 0===d||""===d)throw new Error("No input text");var e,f,h=b.M;return void 0!==a&&(h=b.from(a.errorCorrectionLevel,b.M),e=g.from(a.version),f=c.from(a.maskPattern),a.toSJISFunc&&ap(a.toSJISFunc)),ag(d,e,h,f)},e=d(function(c,a){function b(b){var a,c;if("number"==typeof b&&(b=b.toString()),"string"!=typeof b)throw new Error("Color should be defined as hex string");if(a=b.slice().replace("#","").split(""),a.length<3||5===a.length||a.length>8)throw new Error("Invalid hex color: "+b);return 3!==a.length&&4!==a.length||(a=Array.prototype.concat.apply([],a.map(function(a){return[a,a]}))),6===a.length&&a.push("F","F"),c=parseInt(a.join(""),16),{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:255&c,hex:"#"+a.slice(0,6).join("")}}a.getOptions=function(a){a||(a={}),a.color||(a.color={});var d=void 0===a.margin||null===a.margin||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,e=a.scale||4;return{width:c,scale:c?4:e,margin:d,color:{dark:b(a.color.dark||"#000000ff"),light:b(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},a.getScale=function(b,a){return a.width&&a.width>=b+2*a.margin?a.width/(b+2*a.margin):a.scale},a.getImageWidth=function(b,c){var d=a.getScale(b,c);return Math.floor((b+2*c.margin)*d)},a.qrToImageData=function(j,l,c){for(var k=l.modules.size,m=l.modules.data,h=a.getScale(k,c),f=Math.floor((k+2*c.margin)*h),e=c.margin*h,n=[c.color.light,c.color.dark],d=0,b,i,g;d<f;d++)for(b=0;b<f;b++)i=4*(d*f+b),g=c.color.light,d>=e&&b>=e&&d<f-e&&b<f-e&&(g=n[m[Math.floor((d-e)/h)*k+Math.floor((b-e)/h)]?1:0]),j[i++]=g.r,j[i++]=g.g,j[i++]=g.b,j[i]=g.a}}),e.getOptions,e.getScale,e.getImageWidth,e.qrToImageData,s=d(function(b,a){a.render=function(g,a,i){var b=i,c=a,f,d,h;return void 0!==b||a&&a.getContext||(b=a,a=void 0),a||(c=function(){try{return document.createElement("canvas")}catch(a){throw new Error("You need to specify a canvas element")}}()),b=e.getOptions(b),f=e.getImageWidth(g.modules.size,b),d=c.getContext("2d"),h=d.createImageData(f,f),e.qrToImageData(h.data,g,b),function(c,a,b){c.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=b,a.width=b,a.style.height=b+"px",a.style.width=b+"px"}(d,c,f),d.putImageData(h,0,0),c},a.renderToDataURL=function(d,c,e){var b=e,f,g,h;return void 0!==b||c&&c.getContext||(b=c,c=void 0),b||(b={}),f=a.render(d,c,b),g=b.type||"image/png",h=b.rendererOpts||{},f.toDataURL(g,h.quality)}});function I(a,b){var c=a.a/255,d=b+'="'+a.hex+'"';return c<1?d+" "+b+'-opacity="'+c.toFixed(2).slice(1)+'"':d}function x(c,d,a){var b=c+d;return void 0!==a&&(b+=" "+a),b}s.render,s.renderToDataURL,am=function(f,h,c){var a=e.getOptions(h),d=f.modules.size,i=f.modules.data,b=d+2*a.margin,j=a.color.light.a?"<path "+I(a.color.light,"fill")+' d="M0 0h'+b+"v"+b+'H0z"/>':"",k="<path "+I(a.color.dark,"stroke")+' d="'+function(b,h,i){for(var e="",f=0,d=!1,g=0,a=0,c,j;a<b.length;a++)c=Math.floor(a%h),j=Math.floor(a/h),c||d||(d=!0),b[a]?(g++,a>0&&c>0&&b[a-1]||(e+=d?x("M",c+i,.5+j+i):x("m",f,0),f=0,d=!1),c+1<h&&b[a+1]||(e+=x("h",g),g=0)):f++;return e}(i,d,a.margin)+'"/>',l='viewBox="0 0 '+b+" "+b+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+l+' shape-rendering="crispEdges">'+j+k+"</svg>\n";return"function"==typeof c&&c(null,g),g};function y(g,a,c,b,e){var f=[].slice.call(arguments,1),d=f.length,h="function"==typeof f[d-1],i;if(!h&&!ar())throw new Error("Callback required as last argument");if(!h){if(d<1)throw new Error("Too few arguments provided");return 1===d?(c=a,a=b=void 0):2!==d||a.getContext||(b=c,c=a,a=void 0),new Promise(function(d,e){try{var f=E(c,b);d(g(f,a,b))}catch(a){e(a)}})}if(d<2)throw new Error("Too few arguments provided");2===d?(e=c,c=a,a=b=void 0):3===d&&(a.getContext&&void 0===e?(e=b,b=void 0):(e=b,b=c,c=a,a=void 0));try{i=E(c,b),e(null,g(i,a,b))}catch(a){e(a)}}return M=E,Q=y.bind(null,s.render),R=y.bind(null,s.renderToDataURL),S=y.bind(null,function(a,c,b){return am(a,b)}),aa={create:M,toCanvas:Q,toDataURL:R,toString:S},h.create=M,h.default=aa,h.toCanvas=Q,h.toDataURL=R,h.toString=S,Object.defineProperty(h,"__esModule",{value:!0}),h}({})