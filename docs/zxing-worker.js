import{prepareZXingModule,readBarcodesFromImageData,}from"https://cdn.jsdelivr.net/npm/zxing-wasm@2.2.4/reader/+esm";await prepareZXingModule(),self.onmessage=async e=>{const{data:t,width:n,height:s}=e.data,o=new ImageData(new Uint8ClampedArray(t),n,s);try{const e=await readBarcodesFromImageData(o,{formats:["QRCode"]});e.length>0&&self.postMessage({data:e[0].text})}catch(e){console.log(e)}}