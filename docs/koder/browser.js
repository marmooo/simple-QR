class Koder{initialize(a){return(async()=>{console.log("Browser"),a||={};const b=a.wasmDirectory||"./wasm";return this.mod=await CreateKoder({locateFile:a=>`${b}/${a}`}),this.api={createBuffer:this.mod.cwrap('createBuffer','number',['number']),deleteBuffer:this.mod.cwrap('deleteBuffer','',['number']),triggerDecode:this.mod.cwrap('triggerDecode','number',['number','number','number']),getScanResults:this.mod.cwrap('getScanResults','number',[])},this})()}decode(e,b,c){const d=this.api.createBuffer(b*c*4);this.mod.HEAPU8.set(e,d);const a=[];if(this.api.triggerDecode(d,b,c)>0){const b=this.api.getScanResults();a.push(this.mod.UTF8ToString(b)),this.api.deleteBuffer(b)}return a.length>0?a[0]:null}}